<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>SetRenderToImage - AGK Help</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript" src="../../main.js"></script>
<script type="text/javascript">var commandName = "SetRenderToImage";</script>
<link href="../../main.css" rel="styleSheet" type="text/css" /><script type="text/javascript">window.addEventListener("message", receiveMessage, false);function receiveMessage(event){if( event.origin !== 'http://www.appgamekit.com' && event.origin !== 'https://www.appgamekit.com' && event.origin !== 'http://appgamekit.com' && event.origin !== 'https://appgamekit.com' && event.origin !== 'http://agk.thegamecreators.com' && event.origin !== 'https://agk.thegamecreators.com' ) return;document.getElementById('comments').style.height = (parseInt(event.data))+'px'; document.getElementById('comments').scrolling='no';}</script>
<script type="text/javascript" src="https://www.appgamekit.com/assets/js/docs-jquery.min.js"></script><script type="text/javascript" src="https://www.appgamekit.com/assets/js/docs-translate.js"></script></head>
<body>
<div class="header" style="background: #000 url('../../gfx/header-back.png') top center no-repeat;"><div><div class="navigation"><a href="../../home.html"><img src="../../gfx/b-home.png" width="76" height="44" alt=""></a><a href="javascript:history.go(-1)"><img src="../../gfx/b-back.png" width="71" height="44" alt=""></a><a href="javascript:window.print()"><img src="../../gfx/b-print.png" width="75" height="44" alt=""></a><a style="cursor:pointer;" onclick="ToggleCPP()"><img src="../../gfx/lang-c.png" width="253" height="44" alt=""  id="basicCodeBlock0" border="0"></a><a style="cursor:pointer;" onclick="ToggleCPP()"><img src="../../gfx/lang-basic.png" width="253" height="44" alt=""  id="cppCodeBlock0" style="display:none" border="0"></a></div><a href="https://www.appgamekit.com" target="_blank"><img class="logo" src="../../gfx/agk-logo.png" height="44" style="margin:15px 0" alt="App Game Kit" border="0"></a></div><img src="../../gfx/drop-shadow.png" width="1158" height="40" alt=""></div><div class="breadcrumbs">
<a href="../../home.html">Home</a> &gt; <a href="../../commands.html">Commands</a> &gt; <a href="../Core.htm">Core</a> &gt; SetRenderToImage</div><div class="page"><h1>SetRenderToImage</h1><h2>Description</h2><p>Redirects all future draw calls to an image instead of to the screen. The specified image could then be applied to an object or sprite. Be careful not to apply the image to an object or sprite at the same time as it is being drawn to as this could result in an error. You can also choose to render the depth information to an image that you can use later, or render without a depth buffer if your scene does not need one. You can also use a depth image ID of -1 to render a depth buffer without capturing it in an image. Note that some devices (particularly Android) do not support rendering depth to an image, in these cases the only valid values for the depth ID are 0 and -1. You can check if the current device supports depth textures by using <i>IsSupportedDepthTexture</i>. Render images can be any size, and do not need to be a power of 2 in width or height.<br/><br/> For a more detailed explanation, when you render to an image it will draw to the image exactly what it would have drawn to the screen. For example if your virtual resolution is 1024x768 and requires borders then it will draw borders onto the render image. This means if you were to look at the resulting render image in its native form, e.g. 1024x1024, it will look like you've taken a 1024x768 window and stretched it vertically into a square. The result is that if you take this square image and stretch it back into 1024x768, by texturing a sprite or quad that happens to be 1024x768 in size, then it will look normal again. This means you can render a 1024x768 window to an image of any size, say 64x512, and stretch it to 1024x768 and it should look correct aspect ratio wise, it will of course be missing some detail. You can then get more advanced by changing the virtual resolution after setting a render image and changing it back when rendering to the screen, or using <i>SetCameraAspect</i> to change the 3D aspect ratio if the render image is going to be used for something other than a 1:1 representation of the screen.<br/><br/> After calling SetRenderToImage the image contents is undefined and can be cleared with <i>ClearScreen</i>, however if you are going to draw to every pixel on the screen, such as with a full screen shader then this is not necessary. It is not possible to call SetRenderToImage multiple times with the same image to add more drawn items to the image, the image will always become undefined after the call to SetRenderToImage. If you wish to maintain the contents of a previous render then you should render to a new image and apply the previously rendered image to a quad to draw it as a background. You can then swap the images in the next frame to continuously render the previous frame as a background to the current frame. </p><h2>Definition</h2><div id="basicCodeBlock1" class="basiccode"><p> SetRenderToImage( colorImage, depthImage ) </p></div><div id="cppCodeBlock2" style="display:none" class="cppcode"><p>void agk::SetRenderToImage( int colorImage, int depthImage )</p></div><h2>Parameters</h2><ul><li><i>colorImage</i> - The ID of the image to use as the color buffer, 0 to not render color</li><li><i>depthImage</i> - The ID of the image to use as the depth buffer, 0 to not render depth, -1 to use a depth buffer without an image</li></ul><br><br><div style="height:2px;width:100%;border-bottom:1px solid #b0b0b0;margin:0px auto 10px auto;padding:0px;"> </div><iframe id="comments" style="width:700px;margin:0px auto;border:none" src="https://www.appgamekit.com/help/comments?command=SetRenderToImage"></iframe></div><div class="footer" style="background: #000 url('../../gfx/footer-back.png') top center no-repeat;"><div><p><a href="https://www.thegamecreators.com" target="_blank" style="float:none"><img style="float:right;margin-top:2px" src="../../gfx/tgc-logo.png" width="188" height="27" alt="" border="0"></a><br><strong>App Game Kit</strong> &nbsp;&copy; The Game Creators Ltd. All Rights Reserved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="mailto:agkreports@thegamecreators.com" style="float:none"><font color="FFFFFF">Report an issue</font></a></p></p></div></div></body></html>