<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>CreateSocketListener - AGK Help</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript" src="../../main.js"></script>
<script type="text/javascript">var commandName = "CreateSocketListener";</script>
<link href="../../main.css" rel="styleSheet" type="text/css" /><script type="text/javascript">window.addEventListener("message", receiveMessage, false);function receiveMessage(event){if( event.origin !== 'http://www.appgamekit.com' && event.origin !== 'https://www.appgamekit.com' && event.origin !== 'http://appgamekit.com' && event.origin !== 'https://appgamekit.com' && event.origin !== 'http://agk.thegamecreators.com' && event.origin !== 'https://agk.thegamecreators.com' ) return;document.getElementById('comments').style.height = (parseInt(event.data))+'px'; document.getElementById('comments').scrolling='no';}</script>
<script type="text/javascript" src="https://www.appgamekit.com/assets/js/docs-jquery.min.js"></script><script type="text/javascript" src="https://www.appgamekit.com/assets/js/docs-translate.js"></script></head>
<body>
<div class="header" style="background: #000 url('../../gfx/header-back.png') top center no-repeat;"><div><div class="navigation"><a href="../../home.html"><img src="../../gfx/b-home.png" width="76" height="44" alt=""></a><a href="javascript:history.go(-1)"><img src="../../gfx/b-back.png" width="71" height="44" alt=""></a><a href="javascript:window.print()"><img src="../../gfx/b-print.png" width="75" height="44" alt=""></a><a style="cursor:pointer;" onclick="ToggleCPP()"><img src="../../gfx/lang-c.png" width="253" height="44" alt=""  id="basicCodeBlock0" border="0"></a><a style="cursor:pointer;" onclick="ToggleCPP()"><img src="../../gfx/lang-basic.png" width="253" height="44" alt=""  id="cppCodeBlock0" style="display:none" border="0"></a></div><a href="https://www.appgamekit.com" target="_blank"><img class="logo" src="../../gfx/agk-logo.png" height="44" style="margin:15px 0" alt="App Game Kit" border="0"></a></div><img src="../../gfx/drop-shadow.png" width="1158" height="40" alt=""></div><div class="breadcrumbs">
<a href="../../home.html">Home</a> &gt; <a href="../../commands.html">Commands</a> &gt; <a href="../Multiplayer.htm">Multiplayer</a> &gt; CreateSocketListener</div><div class="page"><h1>CreateSocketListener</h1><h2>Description</h2><p>Creates a socket listener that listens on a specified port for incoming socket connections. When a connection occurs it will be held in a queue until you retrieve it with <i>GetSocketListenerConnection</i>. If you want to reject a connection you must retrieve it and then delete it. The listener will continue accepting connections until it is deleted. If your device has multiple network interfaces then you can specify which one to listen on by using the IP address parameter. To listen on all interfaces use an empty string as the IP address.<br><br> If the device has both IPv4 and IPv6 addresses then the listener can only listen on one or the other, not both. To listen for both IPv4 and IPv6 connections you need to create two listeners, one for the IPv4 connections and one for the IPv6 connections. Connections from either will behave exactly the same after they are connected. To create an IPv6 listener pass an IPv6 IP address to <i>CreateSocketListener</i>, or "anyip6" to listen on any suitable IPv6 address. If you pass an empty string or "anyip4" as the IP address then it will listen for IPv4 connections.<br><br> You can have multiple listeners active at the same time, but they must all use different ports or IPs.<br><br> When choosing a port number you should avoid low values as these will frequently be used by other apps and services. If something is already listening on a port then your attempt to listen on it will fail. Returns 0 if it failed to start listening. </p><h2>Definition</h2><div id="basicCodeBlock1" class="basiccode"><p>integer CreateSocketListener( listenerID,  szIP, port ) </p></div><div id="cppCodeBlock2" style="display:none" class="cppcode"><p>int agk::CreateSocketListener( uint32_t listenerID, const char *szIP, int port )</p></div><div id="basicCodeBlock3" class="basiccode"><p>integer CreateSocketListener(  szIP, port ) </p></div><div id="cppCodeBlock4" style="display:none" class="cppcode"><p>uint32_t agk::CreateSocketListener( const char *szIP, int port )</p></div><h2>Parameters</h2><ul><li><i>listenerID</i> - An ID to use to reference this listener in the future</li><li><i>szIP</i> - The IP address of the interface to listen on, can be IPv4 or IPv6, or "anyip4", or "anyip6"</li><li><i>port</i> - The TCP port to listen on, in the range 1025 to 65535</li></ul><br><br><div style="height:2px;width:100%;border-bottom:1px solid #b0b0b0;margin:0px auto 10px auto;padding:0px;"> </div><iframe id="comments" style="width:700px;margin:0px auto;border:none" src="https://www.appgamekit.com/help/comments?command=CreateSocketListener"></iframe></div><div class="footer" style="background: #000 url('../../gfx/footer-back.png') top center no-repeat;"><div><p><a href="https://www.thegamecreators.com" target="_blank" style="float:none"><img style="float:right;margin-top:2px" src="../../gfx/tgc-logo.png" width="188" height="27" alt="" border="0"></a><br><strong>App Game Kit</strong> &nbsp;&copy; The Game Creators Ltd. All Rights Reserved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="mailto:agkreports@thegamecreators.com" style="float:none"><font color="FFFFFF">Report an issue</font></a></p></p></div></div></body></html>