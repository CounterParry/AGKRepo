<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>CreateBroadcastListener - AGK Help</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript" src="../../main.js"></script>
<script type="text/javascript">var commandName = "CreateBroadcastListener";</script>
<link href="../../main.css" rel="styleSheet" type="text/css" /><script type="text/javascript">window.addEventListener("message", receiveMessage, false);function receiveMessage(event){if( event.origin !== 'http://www.appgamekit.com' && event.origin !== 'https://www.appgamekit.com' && event.origin !== 'http://appgamekit.com' && event.origin !== 'https://appgamekit.com' && event.origin !== 'http://agk.thegamecreators.com' && event.origin !== 'https://agk.thegamecreators.com' ) return;document.getElementById('comments').style.height = (parseInt(event.data))+'px'; document.getElementById('comments').scrolling='no';}</script>
<script type="text/javascript" src="https://www.appgamekit.com/assets/js/docs-jquery.min.js"></script><script type="text/javascript" src="https://www.appgamekit.com/assets/js/docs-translate.js"></script></head>
<body>
<div class="header" style="background: #000 url('../../gfx/header-back.png') top center no-repeat;"><div><div class="navigation"><a href="../../home.html"><img src="../../gfx/b-home.png" width="76" height="44" alt=""></a><a href="javascript:history.go(-1)"><img src="../../gfx/b-back.png" width="71" height="44" alt=""></a><a href="javascript:window.print()"><img src="../../gfx/b-print.png" width="75" height="44" alt=""></a><a style="cursor:pointer;" onclick="ToggleCPP()"><img src="../../gfx/lang-c.png" width="253" height="44" alt=""  id="basicCodeBlock0" border="0"></a><a style="cursor:pointer;" onclick="ToggleCPP()"><img src="../../gfx/lang-basic.png" width="253" height="44" alt=""  id="cppCodeBlock0" style="display:none" border="0"></a></div><a href="https://www.appgamekit.com" target="_blank"><img class="logo" src="../../gfx/agk-logo.png" height="44" style="margin:15px 0" alt="App Game Kit" border="0"></a></div><img src="../../gfx/drop-shadow.png" width="1158" height="40" alt=""></div><div class="breadcrumbs">
<a href="../../home.html">Home</a> &gt; <a href="../../commands.html">Commands</a> &gt; <a href="../Multiplayer.htm">Multiplayer</a> &gt; CreateBroadcastListener</div><div class="page"><h1>CreateBroadcastListener</h1><h2>Description</h2><p>Broadcasts are special network communications as they do not use a destination address and are instead received by all devices on a network. Broadcast packets are not forwarded by routers so can only be used on the local area network, or more specifically the local subnet. This can be useful for discovering devices as one device can send a broadcast packet containing its IP address and another device can pick it up, read the IP and connect back to the first device to create a two-way connection.<br><br> Warning, if the device listening for broadcasts is an iOS device then it may not be able to receive broadcast packets without permission from Apple. As of writing receiving is still allowed but sending requires permission from Apple, this may change in future<br/><br/> AGK networks are broadcast in this manner on port 45631 and send a packet containing the name of a network that has been hosted by another AGK device. By using a broadcast listener you can pick these messages up, extract the network names and display them to the user for them to choose which network they want to connect to.<br><br> If the device is on an IPv6 network then these rules change slightly. <i>CreateBroadcastListener</i> must be called with a multicast address, which begins with ff, for example ff02::1 and the broadcast listener will only receive packets sent to this multicast address. If no address is specified then the broadcaster will only receive IPv4 broadcasts. If you pass the address "anyip6" then the broadcast listener will listen on the AGK multicast address "FF02::41:474B" which is used for named network discovery on port 45631.<br><br> Returns an ID you can use to interact with this broadcast listener. </p><h2>Definition</h2><div id="basicCodeBlock1" class="basiccode"><p>integer CreateBroadcastListener(  szIP, port ) </p></div><div id="cppCodeBlock2" style="display:none" class="cppcode"><p>uint32_t agk::CreateBroadcastListener( const char *szIP, uint32_t port )</p></div><div id="basicCodeBlock3" class="basiccode"><p>integer CreateBroadcastListener( port ) </p></div><div id="cppCodeBlock4" style="display:none" class="cppcode"><p>uint32_t agk::CreateBroadcastListener( uint32_t port )</p></div><h2>Parameters</h2><ul><li><i>szIP</i> - The multicast IP to listen for, only applies to IPv6 networks, if left empty then it will listen for IPv4 broadcasts.</li><li><i>port</i> - The port that the messages are being broadcast on, in the case of AGK networks this will be port 45631.</li></ul><br><br><div style="height:2px;width:100%;border-bottom:1px solid #b0b0b0;margin:0px auto 10px auto;padding:0px;"> </div><iframe id="comments" style="width:700px;margin:0px auto;border:none" src="https://www.appgamekit.com/help/comments?command=CreateBroadcastListener"></iframe></div><div class="footer" style="background: #000 url('../../gfx/footer-back.png') top center no-repeat;"><div><p><a href="https://www.thegamecreators.com" target="_blank" style="float:none"><img style="float:right;margin-top:2px" src="../../gfx/tgc-logo.png" width="188" height="27" alt="" border="0"></a><br><strong>App Game Kit</strong> &nbsp;&copy; The Game Creators Ltd. All Rights Reserved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="mailto:agkreports@thegamecreators.com" style="float:none"><font color="FFFFFF">Report an issue</font></a></p></p></div></div></body></html>