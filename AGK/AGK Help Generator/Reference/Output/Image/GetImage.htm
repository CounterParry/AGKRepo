<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>GetImage - AGK Help</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript" src="../../main.js"></script>
<script type="text/javascript">var commandName = "GetImage";</script>
<link href="../../main.css" rel="styleSheet" type="text/css" /><script type="text/javascript">window.addEventListener("message", receiveMessage, false);function receiveMessage(event){if( event.origin !== 'http://www.appgamekit.com' && event.origin !== 'https://www.appgamekit.com' && event.origin !== 'http://appgamekit.com' && event.origin !== 'https://appgamekit.com' && event.origin !== 'http://agk.thegamecreators.com' && event.origin !== 'https://agk.thegamecreators.com' ) return;document.getElementById('comments').style.height = (parseInt(event.data))+'px'; document.getElementById('comments').scrolling='no';}</script>
<script type="text/javascript" src="https://www.appgamekit.com/assets/js/docs-jquery.min.js"></script><script type="text/javascript" src="https://www.appgamekit.com/assets/js/docs-translate.js"></script></head>
<body>
<div class="header" style="background: #000 url('../../gfx/header-back.png') top center no-repeat;"><div><div class="navigation"><a href="../../home.html"><img src="../../gfx/b-home.png" width="76" height="44" alt=""></a><a href="javascript:history.go(-1)"><img src="../../gfx/b-back.png" width="71" height="44" alt=""></a><a href="javascript:window.print()"><img src="../../gfx/b-print.png" width="75" height="44" alt=""></a><a style="cursor:pointer;" onclick="ToggleCPP()"><img src="../../gfx/lang-c.png" width="253" height="44" alt=""  id="basicCodeBlock0" border="0"></a><a style="cursor:pointer;" onclick="ToggleCPP()"><img src="../../gfx/lang-basic.png" width="253" height="44" alt=""  id="cppCodeBlock0" style="display:none" border="0"></a></div><a href="https://www.appgamekit.com" target="_blank"><img class="logo" src="../../gfx/agk-logo.png" height="44" style="margin:15px 0" alt="App Game Kit" border="0"></a></div><img src="../../gfx/drop-shadow.png" width="1158" height="40" alt=""></div><div class="breadcrumbs">
<a href="../../home.html">Home</a> &gt; <a href="../../commands.html">Commands</a> &gt; <a href="../Image.htm">Image</a> &gt; GetImage</div><div class="page"><h1>GetImage</h1><h2>Description</h2><p>Before using this command consider using <i>SetRenderToImage</i> instead as it will be faster if you just want to draw some things to an image for use later as a texture.<br/><br/> GetImage grabs a portion of the backbuffer and creates a new image from it. The position and size values must be in screen coordinates. Returns the ID of the new image, this must be deleted when you are done with it. To use this command effectively you must know how AGK draws to the back buffer. When <i>Sync</i> is called AGK updates the positions of all objects with <i>Update</i>, then draws them all to the back buffer with <i>Render</i>, without clearing it, then displays the back buffer to the screen with <i>Swap</i>. It then clears the back buffer and returns to your code, so if you were to call <i>GetImage</i> immediately after <i>Sync</i> you would get a blank image filled with the current clear color. Therefore if you want to grab an image of the current scene fully drawn you must call <i>Render</i> then <i>GetImage</i>. The backbuffer will then be cleared automatically ready for the next rendering.<br/><br/> If you are using <i>Update</i>, <i>Render</i>, and <i>Swap</i> yourself instead of <i>Sync</i>, then call <i>GetImage</i> after <i>Render</i>, you will then need to call <i>Render</i> and <i>Swap</i> to draw to the screen.<br><br> This also allows you to do things such as drawing lines to the back buffer, getting an image of the result and then clearing it so it doesn't effect what is displayed to the screen.<br><br> Calling <i>GetImage</i> is a slow command and it is not recommended that it be called every frame. A better method would be to use <i>SetRenderToImage</i> to draw directly to the image on the GPU without transferring it back to the CPU.<br><br> Note that the image produced by this command is not guaranteed to have the same width and height as those given to the command, this is because the image is created from a portion of the screen which has a different size on different devices. For example, with a virtual resolution of 480x320, you would get an image of the full screen by calling this command with a width of 480 and a height of 320, but on an iPhone this would produce an image of 480x320 pixels, whilst on an iPad it would be around 1024x768 pixels. This should not effect how you use the image as applying it to a sprite and setting the sprite size to the same 480x320 will make the sprite fill the screen in both cases. It simply means that on the iPad you have a higher quality image to play with.<br><br> This also applies to the line drawing commands, drawing a line from 0,0 to 100,100 and then getting an image from 0,0 to 100,100 will produce a diagonal line image on all devices, but high resolution screen devices will produce an image of higher quality containing more pixels. Use <i>GetImageWidth</i> and <i>GetImageHeight</i> if you need to know the actual size of the image produced in pixels. <br><br> When drawing transparent sprites and using GetImage on them AGK has to undo the blending of the sprite with the background color to retrieve an image that can be used again in future transparent sprites. </p><h2>Definition</h2><div id="basicCodeBlock1" class="basiccode"><p> GetImage( imageID, x, y, width, height ) </p></div><div id="cppCodeBlock2" style="display:none" class="cppcode"><p>void agk::GetImage( uint32_t imageID, float x, float y, float width, float height )</p></div><div id="basicCodeBlock3" class="basiccode"><p>integer GetImage( x, y, width, height ) </p></div><div id="cppCodeBlock4" style="display:none" class="cppcode"><p>uint32_t agk::GetImage( float x, float y, float width, float height )</p></div><h2>Parameters</h2><ul><li><i>imageID</i> - The image number that will contain the image captured</li><li><i>x</i> - The x coordinate of the top left corner of the box to copy</li><li><i>y</i> - The y coordinate of the top left corner of the box to copy</li><li><i>width</i> - The width of the box to copy</li><li><i>height</i> - The height of the box to copy</li></ul><br><br><div style="height:2px;width:100%;border-bottom:1px solid #b0b0b0;margin:0px auto 10px auto;padding:0px;"> </div><iframe id="comments" style="width:700px;margin:0px auto;border:none" src="https://www.appgamekit.com/help/comments?command=GetImage"></iframe></div><div class="footer" style="background: #000 url('../../gfx/footer-back.png') top center no-repeat;"><div><p><a href="https://www.thegamecreators.com" target="_blank" style="float:none"><img style="float:right;margin-top:2px" src="../../gfx/tgc-logo.png" width="188" height="27" alt="" border="0"></a><br><strong>App Game Kit</strong> &nbsp;&copy; The Game Creators Ltd. All Rights Reserved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="mailto:agkreports@thegamecreators.com" style="float:none"><font color="FFFFFF">Report an issue</font></a></p></p></div></div></body></html>